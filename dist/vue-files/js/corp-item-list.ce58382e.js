(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["corp-item-list"],{"1af6":function(t,e,a){var i=a("63b6");i(i.S,"Array",{isArray:a("9003")})},"20fd":function(t,e,a){"use strict";var i=a("d9f6"),o=a("aebd");t.exports=function(t,e,a){e in t?i.f(t,e,o(0,a)):t[e]=a}},"268f":function(t,e,a){t.exports=a("fde4")},"32a6":function(t,e,a){var i=a("241e"),o=a("c3a1");a("ce7e")("keys",function(){return function(t){return o(i(t))}})},5176:function(t,e,a){t.exports=a("51b6")},"51b6":function(t,e,a){a("a3c3"),t.exports=a("584a").Object.assign},"549b":function(t,e,a){"use strict";var i=a("d864"),o=a("63b6"),r=a("241e"),s=a("b0dc"),c=a("3702"),n=a("b447"),l=a("20fd"),d=a("7cd6");o(o.S+o.F*!a("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,o,m,u=r(t),p="function"==typeof this?this:Array,_=arguments.length,h=_>1?arguments[1]:void 0,f=void 0!==h,v=0,b=d(u);if(f&&(h=i(h,_>2?arguments[2]:void 0,2)),void 0==b||p==Array&&c(b))for(e=n(u.length),a=new p(e);e>v;v++)l(a,v,f?h(u[v],v):u[v]);else for(m=b.call(u),a=new p;!(o=m.next()).done;v++)l(a,v,f?s(m,h,[o.value,v],!0):o.value);return a.length=v,a}})},"54a1":function(t,e,a){a("6c1c"),a("1654"),t.exports=a("95d5")},"6f44":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("select",{staticClass:"form-control",attrs:{id:t.id+"-"+t.theId,name:t.name,placeholder:t.placeholder,disabled:t.disabled,multiple:t.mu}})])},o=[],r=(a("7514"),a("75fc")),s=a("cebc"),c={name:"Select2",data:function(){return{theId:0,select2:null}},model:{event:"change",prop:"value"},props:{id:{type:String,default:"eeSelect2"},name:{type:String,default:""},placeholder:{type:String,default:""},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!0},mu:{type:Boolean,default:!1},settings:{type:Object,default:function(){}},value:null,dataRequestMode:{type:String,default:""},defaultOptions:{type:Array,default:function(){return[]}}},watch:{options:function(t){this.setOption(t)},placeholder:function(t){this.setOption(t)},value:function(t){this.setValue(t)},defaultOptions:function(t){this.setDefaultOptions(t)}},methods:{setOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.select2.empty(),this.select2.select2(Object(s["a"])({},this.settings,{placeholder:this.placeholder,allowClear:this.allowClear,data:t,escapeMarkup:function(t){return t}})),this.setValue(this.value)},setValue:function(t){t instanceof Array?this.select2.val(Object(r["a"])(t)):this.select2.val([t]),this.select2.trigger("change")},setDefaultOptions:function(t){if(this.defaultOptions.length>0)for(var e=0;e<this.defaultOptions.length;e++){var a=this.defaultOptions[e],i=new Option(a.text,a.id,!1,a.isSelected);this.select2.append(i)}}},created:function(){this.theId=Math.floor(1e6*Math.random())},mounted:function(){var t=this;this.select2=$(this.$el).find("select").select2(Object(s["a"])({},this.settings,{placeholder:this.placeholder,allowClear:this.allowClear,data:this.options,escapeMarkup:function(t){return t}})).on("select2:select",function(e){t.$emit("change",t.select2.val(),t.select2.find(":selected").text())}).on("select2:unselect",function(e){t.$emit("change",null)}),this.setValue(this.value),this.setDefaultOptions()},beforeDestroy:function(){this.select2.select2("destroy")}},n=c,l=(a("f7c4"),a("2877")),d=Object(l["a"])(n,i,o,!1,null,null,null);e["a"]=d.exports},"75fc":function(t,e,a){"use strict";var i=a("a745"),o=a.n(i);function r(t){if(o()(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var s=a("774e"),c=a.n(s),n=a("c8bb"),l=a.n(n);function d(t){if(l()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return c()(t)}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(t){return r(t)||d(t)||m()}a.d(e,"a",function(){return u})},"774e":function(t,e,a){t.exports=a("d2d5")},"8aae":function(t,e,a){a("32a6"),t.exports=a("584a").Object.keys},9306:function(t,e,a){"use strict";var i=a("c3a1"),o=a("9aa9"),r=a("355d"),s=a("241e"),c=a("335c"),n=Object.assign;t.exports=!n||a("294c")(function(){var t={},e={},a=Symbol(),i="abcdefghijklmnopqrst";return t[a]=7,i.split("").forEach(function(t){e[t]=t}),7!=n({},t)[a]||Object.keys(n({},e)).join("")!=i})?function(t,e){var a=s(t),n=arguments.length,l=1,d=o.f,m=r.f;while(n>l){var u,p=c(arguments[l++]),_=d?i(p).concat(d(p)):i(p),h=_.length,f=0;while(h>f)m.call(p,u=_[f++])&&(a[u]=p[u])}return a}:n},"95d5":function(t,e,a){var i=a("40c3"),o=a("5168")("iterator"),r=a("481b");t.exports=a("584a").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||r.hasOwnProperty(i(e))}},"9d18":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("Pri_TopBar"),a("Pri_SideBar"),a("div",{staticClass:"content-wrapper"},[a("section",{staticClass:"content-header"},[a("h1",[t._v("\n        "+t._s(t.$t("pri.corpItemListView.title"))),a("small",[t._v(t._s(t.version))]),a("small",[t._v(t._s(t.$t("pri.corpItemListView.subTitle"))+" ")])]),a("ol",{staticClass:"breadcrumb"},[a("router-link",{attrs:{tag:"li",to:"/dashboard"}},[a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"fa fa-cogs"}),a("span",{domProps:{innerHTML:t._s(t.$t("common.title"))}})])]),a("router-link",{attrs:{tag:"li",to:"/my-corp"}},[a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"fa fa-sitemap"}),a("span",{domProps:{innerHTML:t._s(t.$t("pri.sidebar.myCorp"))}})])]),a("li",{staticClass:"active"},[t._v(t._s(t.$t("pri.corpItemListView.title")))])],1)]),a("section",{staticClass:"content"},[a("div",{staticClass:"box box-primary"},[a("div",{staticClass:"box-header"},[a("div",[a("p",{staticClass:"text-light-blue"},[t._v(t._s(t.$t("pri.corpItemListView.msgScoreLeft",{score:t.loadedMyCorpMemberData.cm_score})))])]),a("ol",{staticClass:"content-header-btns"},[a("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:;"},on:{click:function(e){return t.showDailog("create")}}},[t._v(t._s(t.$t("btn.new")))]),t.flag.isAdmin?[t._v("\n                 \n                "),a("router-link",{class:"btn btn-success",attrs:{tag:"a",to:{name:"corp-item-log-list",params:{co_id:t.co_id}}}},[t._v(t._s(t.$t("pri.corpItemListView.showAllExchangeLog")))])]:t._e(),t._v("\n               \n              "),a("router-link",{class:"btn btn-info",attrs:{tag:"a",to:"/my-corp-item-log"}},[t._v(t._s(t.$t("pri.sidebar.myCorpItemLogList")))])],2),a("br")]),a("div",{staticClass:"box-body"},[a("eeTable",{attrs:{columnArr:t.tableData.columns,rowArr:t.table_corpItemListData,optionArr:t.tableData.options},scopedSlots:t._u([{key:"opAction",fn:function(e){return[a("router-link",{staticClass:"fa fa-eye ee-pointer",attrs:{tag:"span",title:t.$t("common.view"),to:{name:"corp-item-detail",params:{ci_id:e.oneRow.ci_id}}}}),t.flag.isAdmin?[t._v("\n                    | \n                    "),a("span",{staticClass:"fa fa-edit ee-pointer",attrs:{title:t.$t("common.update")},on:{click:function(a){return t.editCorpItem(e.oneRow,e.oneKey)}}})]:t._e(),t.flag.isAdmin||e.oneRow.ci_status_id==t.$commonConst.corpItemStatus.start?[t._v("\n                    | \n                    "),a("span",{staticClass:"fa fa-cart-arrow-down ee-pointer",attrs:{title:t.$t("pri.corpItemExchangeModal.modal.title")},on:{click:function(a){return t.exchangeItem(e.oneRow)}}})]:t._e(),t.flag.isAdmin?[t._v("\n                    | \n                    "),a("span",{staticClass:"fa fa-plus ee-pointer",attrs:{title:t.$t("pri.corpItemExchangeModal.modal.titleCntChange")},on:{click:function(a){return t.addItem(e.oneRow)}}})]:t._e()]}}])})],1),a("div",{staticClass:"box-footer"})])])]),a("Pri_FooterBar"),a("CorpItemFormModal",{attrs:{modal:this.modalCorpItem,curDataObj:this.curCorpItemDataObj},on:{"modal-saved":t.modalCorpItemSaved}}),a("CorpItemExchangeModal",{ref:"CorpItemExchangeModal",attrs:{modal:this.modalItemExchange,curDataObj:this.curItemExchangeDataObj,isAdmin:this.flag.isAdmin,select2_corpItemList:t.select2_corpItemList,select2_corpMemberList:t.select2_corpMemberList},on:{"modal-saved":t.modalExchangeItemSaved}}),a("CorpItemAddModal",{ref:"CorpItemAddModal",attrs:{modal:this.modalItemAdd,curDataObj:this.curItemAddDataObj,select2_corpItemList:t.select2_corpItemList},on:{"modal-saved":t.modalAddItemSaved}})],1)},o=[],r=a("5176"),s=a.n(r),c=a("7374"),n=a("bf26"),l=a("325e"),d=a("bcea"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{idName:t.modal.form.id,titleName:t.modal.form.title,showSaveBtn:"view"!=t.modal.type,className:t.modal.form.class},on:{"save-item":t.saveData},scopedSlots:t._u([{key:"form-items",fn:function(){return[a("div",{staticClass:"form-group",class:{"has-error":t.errorFlag.ci_itemType_id}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_ci_itemType_id"}},[t._v(t._s(t.$t("pri.corpItemFormModal.modal.ci_itemType_id")))]),a("div",{staticClass:"col-sm-9"},[a("eeSelect",{attrs:{id:"input_ci_itemType_id",options:t.select_itemType},on:{change:t.item_typeChanged},model:{value:t.curDataObj.ci_itemType_id,callback:function(e){t.$set(t.curDataObj,"ci_itemType_id",e)},expression:"curDataObj.ci_itemType_id"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errorFlag.ci_itemType_id,expression:"errorFlag.ci_itemType_id"}],staticClass:"text-red",domProps:{innerHTML:t._s(t.$t("pri.corpItemFormModal.modal.ci_itemType_id_hint"))}})],1)]),a("div",{staticClass:"form-group",class:{"has-error":t.errorFlag.ci_title}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_ci_title"}},[t._v(t._s(t.$t("pri.corpItemFormModal.modal.ci_title")))]),a("div",{staticClass:"col-sm-9"},[t.curDataObj.ci_itemType_id==t.$commonConst.itemType.other?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curDataObj.ci_title,expression:"curDataObj.ci_title"}],staticClass:"form-control",attrs:{type:"text",id:"input_ci_title",placeholder:t.$t("pri.corpItemFormModal.modal.ci_title")},domProps:{value:t.curDataObj.ci_title},on:{input:function(e){e.target.composing||t.$set(t.curDataObj,"ci_title",e.target.value)}}}):a("Select2",{attrs:{settings:t.item_select2_returnSettings(),defaultOptions:t.item_select2_defaultOptions()},on:{change:t.item_select2_changeSelected},model:{value:t.curDataObj.ci_item_id,callback:function(e){t.$set(t.curDataObj,"ci_item_id",e)},expression:"curDataObj.ci_item_id"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errorFlag.ci_title,expression:"errorFlag.ci_title"}],staticClass:"text-red",domProps:{innerHTML:t._s(t.$t("pri.corpItemFormModal.modal.ci_title_hint"))}})],1)]),a("div",{staticClass:"form-group",class:{"has-error":t.errorFlag.ci_costScore_unit}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_ci_costScore_unit"}},[t._v(t._s(t.$t("pri.corpItemFormModal.modal.ci_costScore_unit")))]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.curDataObj.ci_costScore_unit,expression:"curDataObj.ci_costScore_unit"}],staticClass:"form-control",attrs:{type:"text",id:"input_ci_costScore_unit",placeholder:t.$t("pri.corpItemFormModal.modal.ci_costScore_unit")},domProps:{value:t.curDataObj.ci_costScore_unit},on:{input:function(e){e.target.composing||t.$set(t.curDataObj,"ci_costScore_unit",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errorFlag.ci_costScore_unit,expression:"errorFlag.ci_costScore_unit"}],staticClass:"text-red",domProps:{innerHTML:t._s(t.$t("pri.corpItemFormModal.modal.ci_costScore_unit_hint"))}})])]),a("div",{staticClass:"form-group",class:{"has-error":t.errorFlag.ci_cnt}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_ci_cnt"}},[t._v(t._s(t.$t("pri.corpItemFormModal.modal.ci_cnt")))]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.curDataObj.ci_cnt,expression:"curDataObj.ci_cnt"}],staticClass:"form-control",attrs:{type:"text",id:"input_ci_cnt",placeholder:t.$t("pri.corpItemFormModal.modal.ci_cnt")},domProps:{value:t.curDataObj.ci_cnt},on:{input:function(e){e.target.composing||t.$set(t.curDataObj,"ci_cnt",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errorFlag.ci_cnt,expression:"errorFlag.ci_cnt"}],staticClass:"text-red",domProps:{innerHTML:t._s(t.$t("pri.corpItemFormModal.modal.ci_cnt_hint"))}})])]),a("div",{staticClass:"form-group",class:{"has-error":t.errorFlag.ci_desc}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_ci_desc"}},[t._v(t._s(t.$t("pri.corpItemFormModal.modal.ci_desc")))]),a("div",{staticClass:"col-sm-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.curDataObj.ci_desc,expression:"curDataObj.ci_desc"}],staticClass:"form-control",attrs:{id:"input_ci_desc",rows:"6",placeholder:t.$t("pri.corpItemFormModal.modal.ci_desc")},domProps:{value:t.curDataObj.ci_desc},on:{input:function(e){e.target.composing||t.$set(t.curDataObj,"ci_desc",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errorFlag.ci_desc,expression:"errorFlag.ci_desc"}],staticClass:"text-red",domProps:{innerHTML:t._s(t.$t("pri.corpItemFormModal.modal.ci_desc_hint"))}})])]),a("div",{staticClass:"form-group",class:{"has-error":t.errorFlag.ci_status_id}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_ci_status_id"}},[t._v(t._s(t.$t("pri.corpItemFormModal.modal.ci_status_id")))]),a("div",{staticClass:"col-sm-9"},[a("eeSelect",{attrs:{id:"input_ci_status_id",options:t.select_corpItemStatusArr},model:{value:t.curDataObj.ci_status_id,callback:function(e){t.$set(t.curDataObj,"ci_status_id",e)},expression:"curDataObj.ci_status_id"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errorFlag.ci_status_id,expression:"errorFlag.ci_status_id"}],staticClass:"text-red",domProps:{innerHTML:t._s(t.$t("pri.corpItemFormModal.modal.ci_status_id_hint"))}})],1)])]},proxy:!0}])})},u=[],p=a("714b"),_=a("e21e"),h=a("6f44"),f={name:"corp-item-form-modal",data:function(){return{errorFlag:{ci_title:!1,ci_itemType_id:!1,ci_costScore_unit:!1,ci_cnt:!1,ci_status_id:!1,ci_desc:!1}}},props:{curDataObj:{type:[Object],required:!0},modal:{type:[Object],required:!0}},computed:{select_itemType:function(){var t=[];for(var e in this.$commonConst.itemType){var a=this.$commonConst.itemType[e];t.push({id:a,text:this.$t("globalItem.type.t_"+a)})}return t},select_corpItemStatusArr:function(){var t=[];for(var e in this.$commonConst.corpItemStatus){var a=this.$commonConst.corpItemStatus[e];t.push({id:a,text:this.$t("corp.ciStatus.status_"+a)})}return t}},methods:{onEditorBlur:function(t){},onEditorFocus:function(t){},onEditorReady:function(t){},saveData:function(){var t=this;for(var e in this.errorFlag)this.errorFlag[e]=!1;var a="v1/corporations/"+this.curDataObj.ci_corporation_id+"/corp-items";""!=this.curDataObj.ci_id?(a="v1/corp-items/"+this.curDataObj.ci_id,this.$axios.patch(a,this.curDataObj).then(function(e){t.$emit("modal-saved",e.data)}).catch(function(e){for(var a in e.response.data.data)t.errorFlag[a]=!0})):this.$axios.post(a,this.curDataObj).then(function(e){t.$emit("modal-saved",e.data)}).catch(function(e){for(var a in e.response.data.data)t.errorFlag[a]=!0})},item_typeChanged:function(){this.curDataObj.ci_item_id=0,this.curDataObj.ci_title=""},item_select2_returnSettings:function(){var t=this;return{minimumInputLength:1,ajax:{url:t.$ajaxBasedUrl+"/v1/s/items",dataType:"json",delay:400,headers:{Authorization:t.$axios.defaults.headers["Authorization"]},data:function(e){return{kw:e.term,t_id:t.curDataObj.ci_itemType_id,page:e.page}},processResults:function(e,a){for(var i=[],o=0;o<e.length;o++){var r=e[o],s={},c="titleEn";"zh"==t.$i18n.locale&&(c="title"),t.curDataObj.ci_itemType_id==t.$commonConst.itemType.ship&&(s={id:r.s_id,text:r["s_"+c]}),t.curDataObj.ci_itemType_id==t.$commonConst.itemType.equipment&&(s=void 0!=r.e_id?{id:r.e_id,text:r["e_"+c]}:{id:r.d_id,text:r["d_"+c]}),t.curDataObj.ci_itemType_id==t.$commonConst.itemType.material&&(s=void 0!=r.m_id?{id:r.m_id,text:r["m_"+c]}:{id:r.o_id,text:r["o_"+c]}),t.curDataObj.ci_itemType_id==t.$commonConst.itemType.bp&&(s=void 0!=r.sb_id?{id:r.sb_id,text:r["sb_"+c]}:{id:r.rb_id,text:r["rb_"+c]}),i.push(s)}return{results:i}}}}},item_select2_defaultOptions:function(){return void 0==this.curDataObj.ci_item_id?[]:[{id:this.curDataObj.ci_item_id,text:this.curDataObj.ci_title,isSelected:!0}]},item_select2_changeSelected:function(){this.curDataObj.ci_title=arguments.length<=1?void 0:arguments[1]}},mixins:[],components:{Modal:p["a"],eeSelect:_["a"],Select2:h["a"]},created:function(){},mounted:function(){},destroyed:function(){},beforeMount:function(){}},v=f,b=a("2877"),g=Object(b["a"])(v,m,u,!1,null,null,null),C=g.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{idName:t.modal.form.id,titleName:t.$t("pri.corpItemExchangeModal.modal.title"),footerSaveText:"btn.start",className:t.modal.form.class},on:{"save-item":t.saveData},scopedSlots:t._u([{key:"form-items",fn:function(){return[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isAdmin,expression:"isAdmin"}],staticClass:"form-group",class:{"has-error":t.errorFlag.cil_to_id}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_cil_to_id"}},[t._v(t._s(t.$t("pri.corpItemExchangeModal.modal.cil_to_id")))]),a("div",{staticClass:"col-sm-9"},[a("Select2",{attrs:{options:t.select2_corpMemberList},model:{value:t.curDataObj.cil_to_id,callback:function(e){t.$set(t.curDataObj,"cil_to_id",e)},expression:"curDataObj.cil_to_id"}})],1)]),a("div",{staticClass:"form-group",class:{"has-error":t.errorFlag.cil_corpItem_id}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_cil_corpItem_id"}},[t._v(t._s(t.$t("pri.corpItemExchangeModal.modal.cil_corpItem_id")))]),a("div",{staticClass:"col-sm-9"},[a("Select2",{attrs:{options:t.select2_corpItemList},on:{change:t.item_select2_changeSelected},model:{value:t.curDataObj.cil_corpItem_id,callback:function(e){t.$set(t.curDataObj,"cil_corpItem_id",e)},expression:"curDataObj.cil_corpItem_id"}})],1)]),a("div",{staticClass:"form-group",class:{"has-error":t.errorFlag.cil_costScore_unit}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_cil_costScore_unit"}},[t._v(t._s(t.$t("pri.corpItemExchangeModal.modal.cil_costScore_unit")))]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.curDataObj.cil_costScore_unit,expression:"curDataObj.cil_costScore_unit"}],staticClass:"form-control",attrs:{type:"text",id:"input_cil_costScore_unit",placeholder:t.$t("pri.corpItemExchangeModal.modal.cil_costScore_unit"),disabled:!t.isAdmin},domProps:{value:t.curDataObj.cil_costScore_unit},on:{input:function(e){e.target.composing||t.$set(t.curDataObj,"cil_costScore_unit",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errorFlag.cil_costScore_unit,expression:"errorFlag.cil_costScore_unit"}],staticClass:"text-red",domProps:{innerHTML:t._s(t.$t("pri.corpItemExchangeModal.modal.cil_costScore_unit_hint"))}})])]),a("div",{staticClass:"form-group",class:{"has-error":t.errorFlag.cil_cnt}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_cil_cnt"}},[t._v(t._s(t.$t("pri.corpItemExchangeModal.modal.cil_cnt")))]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.curDataObj.cil_cnt,expression:"curDataObj.cil_cnt"}],staticClass:"form-control",attrs:{type:"text",id:"input_cil_cnt",placeholder:t.$t("pri.corpItemExchangeModal.modal.cil_cnt")},domProps:{value:t.curDataObj.cil_cnt},on:{input:function(e){e.target.composing||t.$set(t.curDataObj,"cil_cnt",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errorFlag.cil_cnt,expression:"errorFlag.cil_cnt"}],staticClass:"text-red",domProps:{innerHTML:t._s(t.$t("pri.corpItemExchangeModal.modal.cil_cnt_hint"))}})])]),a("div",{staticClass:"form-group",class:{"has-error":t.errorFlag.cil_costScore_sum}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_cil_costScore_sum"}},[t._v(t._s(t.$t("pri.corpItemExchangeModal.modal.cil_costScore_sum")))]),a("div",{staticClass:"col-sm-9"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"input_cil_costScore_sum",placeholder:t.$t("pri.corpItemExchangeModal.modal.cil_costScore_sum"),disabled:"disabled"},domProps:{value:t.eeFormatNumber(t.curDataObj.cil_costScore_unit*t.curDataObj.cil_cnt)}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errorFlag.cil_costScore_sum,expression:"errorFlag.cil_costScore_sum"}],staticClass:"text-red",domProps:{innerHTML:t._s(t.$t("pri.corpItemExchangeModal.modal.cil_costScore_sum_hint"))}})])]),a("div",{staticClass:"form-group",class:{"has-error":t.errorFlag.cil_desc}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_cil_desc"}},[t._v(t._s(t.$t("pri.corpItemExchangeModal.modal.cil_desc")))]),a("div",{staticClass:"col-sm-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.curDataObj.cil_desc,expression:"curDataObj.cil_desc"}],staticClass:"form-control",attrs:{id:"input_cil_desc",rows:"6",placeholder:t.$t("pri.corpItemExchangeModal.modal.cil_desc")},domProps:{value:t.curDataObj.cil_desc},on:{input:function(e){e.target.composing||t.$set(t.curDataObj,"cil_desc",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errorFlag.cil_desc,expression:"errorFlag.cil_desc"}],staticClass:"text-red",domProps:{innerHTML:t._s(t.$t("pri.corpItemExchangeModal.modal.cil_desc_hint"))}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isAdmin,expression:"isAdmin"}],staticClass:"form-group",class:{"has-error":t.errorFlag.cil_status_id}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_cil_status_id"}},[t._v(t._s(t.$t("pri.corpItemExchangeModal.modal.cil_status_id")))]),a("div",{staticClass:"col-sm-9"},[a("eeSelect",{attrs:{id:"input_cil_status_id",options:t.select_corpItemLogStatusArr},model:{value:t.curDataObj.cil_status_id,callback:function(e){t.$set(t.curDataObj,"cil_status_id",e)},expression:"curDataObj.cil_status_id"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errorFlag.cil_status_id,expression:"errorFlag.cil_status_id"}],staticClass:"text-red",domProps:{innerHTML:t._s(t.$t("pri.corpItemExchangeModal.modal.cil_status_id_hint"))}})],1)]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.flag.saveStatus==t.$commonConst.saveStatus.saving,expression:"flag.saveStatus == $commonConst.saveStatus.saving"}],staticClass:"ee-textCenter",domProps:{innerHTML:t._s(t.$t("pri.corpItemExchangeModal.modal.exchanging"))}}),a("p",{directives:[{name:"show",rawName:"v-show",value:t.flag.saveStatus==t.$commonConst.saveStatus.fail,expression:"flag.saveStatus == $commonConst.saveStatus.fail"}],staticClass:"ee-textCenter",domProps:{innerHTML:t._s(t.$t("pri.corpItemExchangeModal.modal.exchange_fail"))}}),a("p",{directives:[{name:"show",rawName:"v-show",value:t.flag.saveStatus==t.$commonConst.saveStatus.success&&t.curDataObj.cil_type_id==t.$commonConst.corpItemLogType.exchange_admin,expression:"flag.saveStatus == $commonConst.saveStatus.success && curDataObj.cil_type_id == $commonConst.corpItemLogType.exchange_admin "}],staticClass:"ee-textCenter",domProps:{innerHTML:t._s(t.$t("pri.corpItemExchangeModal.modal.exchange_success"))}}),a("p",{directives:[{name:"show",rawName:"v-show",value:t.flag.saveStatus==t.$commonConst.saveStatus.success&&t.curDataObj.cil_type_id==t.$commonConst.corpItemLogType.exchange_member,expression:"flag.saveStatus == $commonConst.saveStatus.success && curDataObj.cil_type_id == $commonConst.corpItemLogType.exchange_member "}],staticClass:"ee-textCenter",domProps:{innerHTML:t._s(t.$t("pri.corpItemExchangeModal.modal.exchange_success_code",{code:t.exchangeCode}))}})]},proxy:!0}])})},I=[],O={name:"corp-item-exchange-modal",data:function(){return{exchangeCode:"",errorFlag:{cil_title:!1,cil_itemType_id:!1,cil_costScore_unit:!1,cil_cnt:!1,cil_status_id:!1,cil_desc:!1},flag:{saveStatus:this.$commonConst.saveStatus.notStart}}},props:{curDataObj:{type:[Object],required:!0},modal:{type:[Object],required:!0},select2_corpItemList:{type:[Array],required:!0},select2_corpMemberList:{type:[Array],required:!0},isAdmin:{required:!0}},computed:{select_corpItemLogStatusArr:function(){var t=[];for(var e in this.$commonConst.corpItemLogStatus){var a=this.$commonConst.corpItemLogStatus[e];t.push({id:a,text:this.$t("corp.cilStatus.status_"+a)})}return t}},methods:{onEditorBlur:function(t){},onEditorFocus:function(t){},onEditorReady:function(t){},resetModal:function(){this.flag.saveStatus=this.$commonConst.saveStatus.notStart},saveData:function(){var t=this;for(var e in this.errorFlag)this.errorFlag[e]=!1;if(this.curDataObj.cil_cnt<1)return this.errorFlag["cil_cnt"]=!0,!1;this.flag.saveStatus=this.$commonConst.saveStatus.saving;var a="v1/corp-items/"+this.curDataObj.cil_corpItem_id+"/corp-item-logs";this.$axios.post(a,this.curDataObj).then(function(e){t.flag.saveStatus=t.$commonConst.saveStatus.success,t.exchangeCode=e.data.cil_id+"-"+e.data.cil_code,t.$emit("modal-saved",e.data)}).catch(function(e){t.flag.saveStatus=t.$commonConst.saveStatus.fail})},item_select2_changeSelected:function(t,e){this.curDataObj.cil_costScore_unit=0;for(var a=this.select2_corpItemList.length-1;a>=0;a--){var i=this.select2_corpItemList[a];i.id==t&&(this.curDataObj.cil_costScore_unit=i.price)}}},mixins:[],components:{Modal:p["a"],eeSelect:_["a"],Select2:h["a"]},created:function(){},mounted:function(){},destroyed:function(){},beforeMount:function(){}},y=O,j=Object(b["a"])(y,x,I,!1,null,null,null),D=j.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{idName:t.modal.form.id,titleName:t.$t("pri.corpItemExchangeModal.modal.titleCntChange"),footerSaveText:"btn.start",className:t.modal.form.class},on:{"save-item":t.saveData},scopedSlots:t._u([{key:"form-items",fn:function(){return[a("div",{staticClass:"form-group",class:{"has-error":t.errorFlag.cil_corpItem_id}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_cil_corpItem_id_add"}},[t._v(t._s(t.$t("pri.corpItemExchangeModal.modal.cil_corpItem_id")))]),a("div",{staticClass:"col-sm-9"},[a("Select2",{attrs:{options:t.select2_corpItemList},model:{value:t.curDataObj.cil_corpItem_id,callback:function(e){t.$set(t.curDataObj,"cil_corpItem_id",e)},expression:"curDataObj.cil_corpItem_id"}})],1)]),a("div",{staticClass:"form-group",class:{"has-error":t.errorFlag.cil_cnt}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_cil_cnt_add"}},[t._v(t._s(t.$t("pri.corpItemExchangeModal.modal.cil_cnt")))]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.curDataObj.cil_cnt,expression:"curDataObj.cil_cnt"}],staticClass:"form-control",attrs:{type:"text",id:"input_cil_cnt_add",placeholder:t.$t("pri.corpItemExchangeModal.modal.cil_cnt")},domProps:{value:t.curDataObj.cil_cnt},on:{input:function(e){e.target.composing||t.$set(t.curDataObj,"cil_cnt",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errorFlag.cil_cnt,expression:"errorFlag.cil_cnt"}],staticClass:"text-red",domProps:{innerHTML:t._s(t.$t("pri.corpItemExchangeModal.modal.cil_cnt_hint"))}})])]),a("div",{staticClass:"form-group",class:{"has-error":t.errorFlag.cil_desc}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:"input_cil_desc_add"}},[t._v(t._s(t.$t("pri.corpItemExchangeModal.modal.cil_desc")))]),a("div",{staticClass:"col-sm-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.curDataObj.cil_desc,expression:"curDataObj.cil_desc"}],staticClass:"form-control",attrs:{id:"input_cil_desc_add",rows:"6",placeholder:t.$t("pri.corpItemExchangeModal.modal.cil_desc")},domProps:{value:t.curDataObj.cil_desc},on:{input:function(e){e.target.composing||t.$set(t.curDataObj,"cil_desc",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errorFlag.cil_desc,expression:"errorFlag.cil_desc"}],staticClass:"text-red",domProps:{innerHTML:t._s(t.$t("pri.corpItemExchangeModal.modal.cil_desc_hint"))}})])])]},proxy:!0}])})},S=[],M={name:"corp-item-add-modal",data:function(){return{errorFlag:{cil_cnt:!1,cil_desc:!1}}},props:{curDataObj:{type:[Object],required:!0},modal:{type:[Object],required:!0},select2_corpItemList:{type:[Array],required:!0}},computed:{},methods:{onEditorBlur:function(t){},onEditorFocus:function(t){},onEditorReady:function(t){},saveData:function(){var t=this;for(var e in this.errorFlag)this.errorFlag[e]=!1;var a="v1/corp-items/"+this.curDataObj.cil_corpItem_id+"/corp-item-logs";this.$axios.post(a,this.curDataObj).then(function(e){t.$emit("modal-saved",e.data),$("#"+t.modal.form.id).modal("hide")}).catch(function(t){})}},mixins:[],components:{Modal:p["a"],eeSelect:_["a"],Select2:h["a"]},created:function(){},mounted:function(){},destroyed:function(){},beforeMount:function(){}},L=M,F=Object(b["a"])(L,w,S,!1,null,null,null),E=F.exports,T=a("6a38"),A={name:"CorpItemListView",data:function(){var t=this;return{version:"v1.0",co_id:0,flag:{isAdmin:!1},loadedMyCorpMemberData:{cm_score:0},loadedCorpMemberList:[],loadedCorpItemList:[],tableData:{columns:[{field:"ci_id",title:function(){return t.$t("pri.corpItemListView.table.title.ci_id")},sortable:!0},{field:"ci_itemType",title:function(){return t.$t("pri.corpItemListView.table.title.ci_itemType_id")},sortable:!0},{field:"ci_title",titleStyle:"min-width:140px;",title:function(){return t.$t("pri.corpItemListView.table.title.ci_title")},sortable:!0},{field:"ci_costScore_unit",title:function(){return t.$t("pri.corpItemListView.table.title.ci_costScore_unit")},sortable:!0,callback:function(t,e,a){return a.eeFormatNumber(t)}},{field:"ci_cnt",title:function(){return t.$t("pri.corpItemListView.table.title.ci_cnt")},sortable:!0},{field:"ci_creationDate",title:function(){return t.$t("pri.corpItemListView.table.title.ci_creationDate")},sortable:!0},{field:"ci_updateDate",title:function(){return t.$t("pri.corpItemListView.table.title.ci_updateDate")},sortable:!0},{field:"ci_status",title:function(){return t.$t("pri.corpItemListView.table.title.ci_status_id")},sortable:!0},{type:"slot",field:"opAction",titleStyle:"min-width:90px;",title:function(){return t.$t("common.op")}}],options:{tableClass:"table table-bordered text-center table-hover table-striped",showTableFooter:!0,sortContainerSize:2,tool_allowGlobalSearch:!0,tool_showRefresh:!0,tool_showColumns:!0}},modalCorpItem:{type:"create",form:{id:"ee-model-co-item-list-create-form",class:"",sizeClass:"",title:""}},curCorpItemDataObj:{i:"",ci_id:"",ci_corporation_id:"",ci_title:"",ci_itemType_id:"",ci_item_id:"",ci_costScore_unit:"",ci_cnt:"",ci_status_id:"",ci_desc:""},modalFullExchangeList:{type:"view",form:{id:"ee-model-co-item-list-full-exchange-list",class:"",sizeClass:"",title:""}},modalItemExchange:{type:"exchange",form:{id:"ee-model-co-item-list-exchange-form",class:"",sizeClass:"",title:""}},curItemExchangeDataObj:{i:"",cil_corporation_id:"",cil_corpItem_id:"",cil_type_id:"",cil_from_id:"",cil_to_id:"",cil_costScore_unit:"",cil_cnt:"",cil_desc:"",cil_status_id:""},modalItemAdd:{type:"exchange",form:{id:"ee-model-co-item-list-add-form",class:"",sizeClass:"",title:""}},curItemAddDataObj:{i:"",cil_corpItem_id:"",cil_type_id:"",cil_cnt:"",cil_desc:"",cil_status_id:""}}},computed:{table_corpItemListData:function(){var t=[];for(var e in this.loadedCorpItemList){var a=this.loadedCorpItemList[e],i=a;i["ci_costScore_unit"]=a.ci_costScore_unit,i["ci_itemType"]=this.$t("globalItem.type.t_"+a.ci_itemType_id),i["ci_status"]=this.$t("corp.ciStatus.status_"+a.ci_status_id),t.push(i)}return t},select2_corpItemList:function(){var t=[];for(var e in this.loadedCorpItemList){var a=this.loadedCorpItemList[e];t.push({id:a.ci_id,text:a.ci_title,price:a.ci_costScore_unit,cnt:a.ci_cnt})}return t},select2_corpMemberList:function(){var t=[];for(var e in this.loadedCorpMemberList){var a=this.loadedCorpMemberList[e];t.push({id:a.cm_id,text:a.cm_title+" ["+a.cm_score+"]",score:a.cm_score})}return t}},watch:{},methods:{wrapData:function(t){var e=t;return e},wrapTableData:function(t){var e=t;return e},loadCorpItemList:function(){var t=this,e="v1/corporations/"+this.co_id+"/corp-items";this.$axios.get(e).then(function(e){t.loadedCorpItemList=e.data}).catch(function(t){})},loadCorpMemberList:function(){var t=this,e="v1/corporations/"+this.co_id+"/corp-members?q=cm_status_id=100";this.$axios.get(e).then(function(e){t.loadedCorpMemberList=e.data}).catch(function(t){})},loadMyCorpMemberData:function(){var t=this,e="v1/corporations/"+this.co_id+"/my-corp-member";this.$axios.get(e).then(function(e){e.data.cm_role_id<t.$commonConst.corpRoleType.fc&&(t.flag.isAdmin=!0),t.loadedMyCorpMemberData=e.data}).catch(function(t){})},showDailog:function(t,e){this.modalCorpItem.type=t,"create"==t?(this.modalCorpItem.form.title=this.$t("common.create"),this.cleanObj("curCorpItemDataObj"),this.curCorpItemDataObj.ci_corporation_id=this.co_id,this.curCorpItemDataObj.ci_itemType_id=this.$commonConst.itemType.equipment,this.curCorpItemDataObj.ci_status_id=this.$commonConst.corpItemStatus.new):(this.modalCorpItem.form.title=this.$t("common.update"),"view"==t&&(this.modalCorpItem.form.title=this.$t("common.view")),this.curCorpItemDataObj=e),$("#"+this.modalCorpItem.form.id).modal()},editCorpItem:function(t,e){this.showDailog("update",s()({i:e},t))},modalCorpItemSaved:function(t){var e=this;""!=this.curCorpItemDataObj.ci_id?e.$set(e.loadedCorpItemList,e.curCorpItemDataObj.i,e.wrapTableData(t)):this.loadedCorpItemList.push(this.wrapTableData(t)),$("#"+this.modalCorpItem.form.id).modal("hide")},showFullExchangeList:function(){$("#"+this.modalFullExchangeList.form.id).modal()},exchangeItem:function(t){this.cleanObj("curItemExchangeDataObj"),this.curItemExchangeDataObj.cil_corpItem_id=t.ci_id,this.curItemExchangeDataObj.cil_type_id=this.$commonConst.corpItemLogType.exchange_member,this.flag.isAdmin&&(this.curItemExchangeDataObj.cil_type_id=this.$commonConst.corpItemLogType.exchange_admin),this.curItemExchangeDataObj.cil_costScore_unit=t.ci_costScore_unit,this.curItemExchangeDataObj.cil_cnt=1,this.curItemExchangeDataObj.cil_status_id=this.$commonConst.corpItemLogStatus.new,this.curItemExchangeDataObj.cil_to_id=this.loadedMyCorpMemberData.cm_id,this.$refs.CorpItemExchangeModal.resetModal(),$("#"+this.modalItemExchange.form.id).modal()},modalExchangeItemSaved:function(t){this.loadCorpMemberList(),this.loadCorpItemList()},addItem:function(t){this.cleanObj("curItemAddDataObj"),this.curItemAddDataObj.cil_corpItem_id=t.ci_id,this.curItemAddDataObj.cil_type_id=this.$commonConst.corpItemLogType.add_admin,this.curItemAddDataObj.cil_cnt=1,this.curItemAddDataObj.cil_status_id=this.$commonConst.corpItemLogStatus.finish,$("#"+this.modalItemAdd.form.id).modal()},modalAddItemSaved:function(t){this.loadCorpMemberList(),this.loadCorpItemList()}},mixins:[],components:{Pri_TopBar:c["a"],Pri_SideBar:n["a"],Pri_FooterBar:l["a"],Pri_RightBar:d["a"],eeTable:T["a"],CorpItemFormModal:C,CorpItemExchangeModal:D,CorpItemAddModal:E},created:function(){this.co_id=this.$route.params.co_id},mounted:function(){this.loadCorpItemList(),this.loadCorpMemberList(),this.loadMyCorpMemberData()},destroyed:function(){},beforeMount:function(){document.body.className="hold-transition skin-red sidebar-mini sidebar-collapse"}},P=A,N=Object(b["a"])(P,i,o,!1,null,null,null);e["default"]=N.exports},a3c3:function(t,e,a){var i=a("63b6");i(i.S+i.F,"Object",{assign:a("9306")})},a4bb:function(t,e,a){t.exports=a("8aae")},a745:function(t,e,a){t.exports=a("f410")},bcea:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"control-sidebar-bg"})},o=[],r={name:"Pri_RightBar",props:{}},s=r,c=a("2877"),n=Object(c["a"])(s,i,o,!1,null,"e8df3b2e",null);e["a"]=n.exports},bf90:function(t,e,a){var i=a("36c3"),o=a("bf0b").f;a("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return o(i(t),e)}})},c77b:function(t,e,a){},c8bb:function(t,e,a){t.exports=a("54a1")},ce7e:function(t,e,a){var i=a("63b6"),o=a("584a"),r=a("294c");t.exports=function(t,e){var a=(o.Object||{})[t]||Object[t],s={};s[t]=e(a),i(i.S+i.F*r(function(){a(1)}),"Object",s)}},cebc:function(t,e,a){"use strict";a.d(e,"a",function(){return d});var i=a("268f"),o=a.n(i),r=a("e265"),s=a.n(r),c=a("a4bb"),n=a.n(c),l=a("bd86");function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},i=n()(a);"function"===typeof s.a&&(i=i.concat(s()(a).filter(function(t){return o()(a,t).enumerable}))),i.forEach(function(e){Object(l["a"])(t,e,a[e])})}return t}},d2d5:function(t,e,a){a("1654"),a("549b"),t.exports=a("584a").Array.from},e21e:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.inValue,expression:"inValue"}],staticClass:"form-control",attrs:{id:t.id+"-"+t.theId,name:t.name,placeholder:t.placeholder,disabled:t.disabled,multiple:t.mu},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.inValue=e.target.multiple?a:a[0]},t.optionChanged]}},t._l(t.select_OptionArr,function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.text))])}),0)])},o=[],r={name:"eeSelect",data:function(){return{theId:0,inValue:null}},computed:{select_OptionArr:function(){var t=[];return this.allowClear&&t.push({id:0,text:this.$t("common.all")}),_.concat(t,this.options)}},model:{event:"change",prop:"value"},props:{id:{type:String,default:""},name:{type:String,default:""},placeholder:{type:String,default:""},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},mu:{type:Boolean,default:!1},settings:{type:Object,default:function(){}},value:null},watch:{value:function(t){this.inValue=t}},methods:{optionChanged:function(){this.$emit("change",this.inValue)}},mixins:[],created:function(){this.theId=Math.floor(1e6*Math.random()),this.inValue=this.value},mounted:function(){},beforeDestroy:function(){}},s=r,c=a("2877"),n=Object(c["a"])(s,i,o,!1,null,null,null);e["a"]=n.exports},e265:function(t,e,a){t.exports=a("ed33")},ed33:function(t,e,a){a("014b"),t.exports=a("584a").Object.getOwnPropertySymbols},f410:function(t,e,a){a("1af6"),t.exports=a("584a").Array.isArray},f7c4:function(t,e,a){"use strict";var i=a("c77b"),o=a.n(i);o.a},fde4:function(t,e,a){a("bf90");var i=a("584a").Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}}}]);