(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["quick-table-ore"],{"815b":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrapper"},[o("Pri_TopBar"),o("Pri_SideBar"),o("div",{staticClass:"content-wrapper"},[o("section",{staticClass:"content-header"},[o("h1",[t._v("\n        "+t._s(t.$t("pri.quickTableOreView.title"))),o("small",[t._v(t._s(t.version))]),o("small",[t._v(t._s(t.$t("pri.quickTableOreView.subTitle"))+" \n        "),o("span",{staticClass:"btn btn-xs bg-olive "},[t._v(t._s(t.$t("datasource.d202008")))])])]),o("ol",{staticClass:"breadcrumb"},[o("router-link",{attrs:{tag:"li",to:"/dashboard"}},[o("a",{attrs:{href:"javascript:;"}},[o("i",{staticClass:"fa fa-cogs"}),o("span",{domProps:{innerHTML:t._s(t.$t("common.title"))}})])]),o("li",{staticClass:"active"},[t._v(t._s(t.$t("pri.quickTableOreView.title")))])],1)]),o("section",{staticClass:"content"},[o("div",{staticClass:"box"},[o("div",{staticClass:"box-header"},[o("h3",{staticClass:"box-title"},[t._v(t._s(t.$t("pri.quickTableOreView.oreConfig.title")))]),t._m(0)]),o("div",{staticClass:"box-body"},[o("h4",{staticClass:"box-title"},[t._v(t._s(t.$t("pri.quickTableOreView.oreConfig.title_rate"))+" "),o("small",[t._v(" "+t._s(t.$t("pri.quickTableOreView.oreConfig.title_rate_small")))])]),o("hr"),o("form",{staticClass:"form-horizontal row"},t._l(t.oreRate,function(e,i){return o("div",{staticClass:"col-sm-3"},[o("div",{staticClass:"form-group"},[o("label",{staticClass:"col-sm-4 control-label",attrs:{for:"input_ship_id"}},[t._v(t._s(t.$t("ore."+i)))]),o("div",{staticClass:"col-sm-8"},[o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.oreRate[i],expression:"oreRate[k]"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.oreRate[i]},on:{input:function(e){e.target.composing||t.$set(t.oreRate,i,e.target.value)}}}),o("span",{staticClass:"input-group-addon"},[t._v("%")])])])])])}),0),o("h4",{staticClass:"box-title"},[t._v(t._s(t.$t("pri.quickTableOreView.oreConfig.title_oreOpen"))+" "),o("small",{staticClass:"hide"},[t._v(t._s(t.$t("pri.quickTableOreView.oreConfig.title_oreOpen_small")))])]),o("hr"),o("form",{staticClass:"form-horizontal row"},[o("div",{staticClass:"col-md-12"},t._l(t.oreArr,function(e){return o("div",{staticClass:"col-sm-1"},[o("button",{staticClass:"btn btn-block btn-sm",class:e.oc_isMining?"btn-info":"btn-default",attrs:{type:"button"},on:{click:function(o){return t.eeSwitchObjFlag(e,"oc_isMining")}}},[t._v(t._s(t.$t("ore."+e.o_code)))]),o("div",{staticClass:"form-group"})])}),0)]),o("h4",{staticClass:"box-title"},[t._v(t._s(t.$t("pri.quickTableOreView.oreConfig.otherConfig.title"))+" "),o("small",[t._v(t._s(t.$t("pri.quickTableOreView.oreConfig.otherConfig.title_small")))])]),o("hr"),o("form",{staticClass:"form-horizontal row"},[o("div",{staticClass:"col-md-3"},[o("div",{staticClass:"form-group"},[o("label",{staticClass:"col-md-4 control-label"},[t._v("\n                    "+t._s(t.$t("pri.quickTableOreView.oreConfig.otherConfig.showType.title"))+"\n                    ")]),o("div",{staticClass:"col-md-8"},[o("eeSelect",{attrs:{options:t.select_showType},model:{value:t.showType,callback:function(e){t.showType=e},expression:"showType"}})],1)])]),o("div",{staticClass:"col-md-3"},[o("div",{staticClass:"form-group"},[o("label",{staticClass:"col-md-4 control-label"},[t._v("\n                    "+t._s(t.$t("eeCom.eePriceSelector.switchPrice"))+"\n                    ")]),o("div",{staticClass:"col-md-8"},[o("eePriceSelector",{attrs:{input_show_btnDetail:!1,input_show_btnSum:!1,input_show_ddPriceType:!0,input_flag_selectedPriceType:t.eePriceSelector_params.selectedPriceType},on:{"price-type-changed":t.eePriceSelector_priceTypeChanged}})],1)])])])])]),o("TopicDisplay",{ref:"TopicDisplay"}),o("div",{staticClass:"box box-primary"},[o("div",{staticClass:"box-header hide"},[o("h3",{staticClass:"box-title"},[t._v(t._s(t.$t("pri.quickTableOreView.title")))]),t._m(1)]),o("div",{staticClass:"box-body"},[o("eeTable",{attrs:{columnArr:t.tableData.columns,rowArr:t.table_oreArr,optionArr:t.tableData.options}})],1),o("div",{staticClass:"box-footer"},[o("p",{staticClass:"text-muted",domProps:{innerHTML:t._s(t.$t("pri.quickTableOreView.table.title.o_volumn_price_e"))}}),o("p",{staticClass:"text-muted",domProps:{innerHTML:t._s(t.$t("pri.quickTableOreView.table.title.m_volumn_price_e"))}})])])],1)]),o("Pri_FooterBar")],1)},s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"box-tools pull-right"},[o("button",{staticClass:"btn btn-box-tool",attrs:{"data-widget":"collapse","data-toggle":"tooltip",title:"","data-original-title":"Collapse"}},[o("i",{staticClass:"fa fa-minus"})]),o("button",{staticClass:"btn btn-box-tool",attrs:{"data-widget":"remove","data-toggle":"tooltip",title:"Remove"}},[o("i",{staticClass:"fa fa-times"})])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"box-tools pull-right"},[o("button",{staticClass:"btn btn-box-tool",attrs:{"data-widget":"collapse","data-toggle":"tooltip",title:"","data-original-title":"Collapse"}},[o("i",{staticClass:"fa fa-minus"})]),o("button",{staticClass:"btn btn-box-tool",attrs:{"data-widget":"remove","data-toggle":"tooltip",title:"Remove"}},[o("i",{staticClass:"fa fa-times"})])])}],a=o("7374"),r=o("bf26"),l=o("325e"),n=o("bcea"),c=o("e21e"),u=o("6a38"),b=o("d735"),d=o("a97d"),p=o("37e4"),m={name:"QuickTableOreView",data:function(){var t=this;return{version:"v2.0.1",showType:1,oreArr:[],oreRate:{o_fjs:30,o_sps:30,o_hy:30,o_twyk:30,o_sdts:30},oreRateMapping:{o_fjs:"o_fjs",o_zsy:"o_fjs",o_gjy:"o_sps",o_xcy:"o_fjs",o_obes:"o_sps",o_sps:"o_sps",o_jsbk:"o_twyk",o_xmft:"o_hy",o_twyk:"o_twyk",o_hy:"o_hy",o_hzs:"o_sps",o_pmy:"o_hy",o_kljs:"o_twyk",o_sdts:"o_sdts",o_akly:"o_sdts",o_jfdy:"o_sdts"},tableData:{columns:[{field:"o_asteroidLv",title:function(){return t.$t("pri.quickTableOreView.table.title.o_asteroidLv")},sortable:!1,callback:function(t,e){var o="btn-info",i="btn-info";return e.o_startAsteroidLv>=4&&(o="btn-primary"),e.o_startAsteroidLv>=6&&(o="btn-danger"),e.o_endAsteroidLv>=4&&(i="btn-primary"),e.o_endAsteroidLv>=6&&(i="btn-danger"),'<div class="btn-group"><button type="button" class="btn btn-xs '+o+'">'+e.o_startAsteroidLv+'</button><button type="button" class="btn btn-xs '+i+'">'+e.o_endAsteroidLv+"</button></div>"}},{field:"o_safeLv",title:function(){return t.$t("pri.quickTableOreView.table.title.o_safeLv")},sortable:!1,callback:function(t,e){var o="btn-info",i="btn-info";return e.o_startSafeLv<.5&&(o="btn-primary"),e.o_startSafeLv<0&&(o="btn-danger"),e.o_endSafeLv<.5&&(i="btn-primary"),e.o_endSafeLv<0&&(i="btn-danger"),'<div class="btn-group"><button type="button" class="btn btn-xs '+o+'">'+e.o_startSafeLv+'</button><button type="button" class="btn btn-xs '+i+'">'+e.o_endSafeLv+"</button></div>"}},{field:"o_title",title:function(){return t.$t("pri.quickTableOreView.table.title.o_title")}},{field:"o_volumn",title:function(){return t.$t("pri.quickTableOreView.table.title.o_volumn")},sortable:!0},{field:"o_volumn_price",title:function(){return t.$t("pri.quickTableOreView.table.title.o_volumn_price")},sortable:!0},{field:"m_volumn_price",title:function(){return t.$t("pri.quickTableOreView.table.title.m_volumn_price")},sortable:!0},{field:"o_m_st",title:function(){return t.$t("material.m_st")},sortable:!0},{field:"o_m_lj",title:function(){return t.$t("material.m_lj")},sortable:!0},{field:"o_m_ly",title:function(){return t.$t("material.m_ly")},sortable:!0},{field:"o_m_tws",title:function(){return t.$t("material.m_tws")},sortable:!0},{field:"o_m_cxx",title:function(){return t.$t("material.m_cxx")},sortable:!0},{field:"o_m_sy",title:function(){return t.$t("material.m_sy")},sortable:!0},{field:"o_m_csk",title:function(){return t.$t("material.m_csk")},sortable:!0},{field:"o_m_me",title:function(){return t.$t("material.m_me")},sortable:!0}],options:{tableClass:"table table-bordered text-center table-hover table-striped",sortContainerSize:2,tool_allowGlobalSearch:!0,tool_showRefresh:!0,tool_showColumns:!0}}}},computed:{table_oreArr:function(){var t=[];if(0==this.oreArr.length)return t;for(var e in this.oreArr){var o=this.oreArr[e];if(1==o.oc_isMining){var i=_.cloneDeep(o),s=o.o_titleEn;for(var a in"zh"==this.$i18n.locale&&(s=o.o_title),i.o_title=s,i.o_volumn_price=_.round(this.priceList[i.o_code]/i.o_volumn,2),i.m_volumn_price=0,i)"o_m_"==a.substr(0,4)&&void 0!=this.priceList[a.substr(2)]&&(i.m_volumn_price+=i[a]/100*i.oc_rate/100*this.priceList[a.substr(2)]);if(i.m_volumn_price=_.round(i.m_volumn_price/i.o_volumn,2),1==this.showType)for(var r in i)"o_m_"==r.substr(0,4)&&(i[r]=_.floor(i[r]/100*i.oc_rate/100,2));else{for(var l in i)"o_m_"==l.substr(0,4)&&(i[l]=_.floor(i[l]/100*i.oc_rate/100/i.o_volumn,2));i.o_volumn=1}t.push(i)}}return t},select_showType:function(){var t=[];return t.push({id:1,text:this.$t("pri.quickTableOreView.oreConfig.otherConfig.showType.unit")}),t.push({id:2,text:this.$t("pri.quickTableOreView.oreConfig.otherConfig.showType.volume")}),t}},watch:{oreRate:{handler:function(t,e){for(var o in this.oreArr){var i=this.oreArr[o];this.oreArr[o].oc_rate=this.oreRate[this.oreRateMapping[i.o_code]]}},deep:!0}},methods:{wrapData:function(t){var e=t;return e},loadOreList:function(t){var e=this,o=this,i="v1/ores/full";this.$axios.get(i).then(function(t){var i=[];for(var s in t.data){var a=t.data[s];a.oc_isMining=1,a.oc_rate=30,i.push(e.wrapData(a))}o.oreArr=i}).catch(function(t){})}},mixins:[p["a"]],components:{Pri_TopBar:a["a"],Pri_SideBar:r["a"],Pri_FooterBar:l["a"],Pri_RightBar:n["a"],eeSelect:c["a"],eeTable:u["a"],TopicDisplay:b["a"],eePriceSelector:d["a"]},created:function(){},mounted:function(){this.loadOreList()},destroyed:function(){},beforeMount:function(){document.body.className="hold-transition skin-red sidebar-mini sidebar-collapse"}},f=m,v=o("2877"),h=Object(v["a"])(f,i,s,!1,null,null,null);e["default"]=h.exports}}]);