(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["news"],{"2a0d":function(t,i,e){},9091:function(t,i,e){"use strict";var o=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("Modal",{attrs:{idName:t.cal_modalId,titleName:t.show_title,showFooterSaveBtn:!1,showFooterCloseBtn:!0,className:t.modal.view.class,sizeClassName:t.modal.view.sizeClass},scopedSlots:t._u([{key:"ee-modal-footer-top",fn:function(){return[o("div",{staticClass:"user-block",staticStyle:{"text-align":"left","margin-bottom":"12px"}},[o("img",{staticClass:"img-circle",attrs:{src:e("95a7"),alt:"User Image"}}),o("span",{staticClass:"username "},[o("a",{attrs:{href:"#"}},[t._v(t._s(t.cal_topicArr.tCreationUser.a_title))])]),o("span",{staticClass:"description"},[t._v(t._s(t.cal_topicArr.t_startDate))])])]},proxy:!0},{key:"ee-modal-body",fn:function(){return[o("div",{staticClass:"eeModalContainer",staticStyle:{"max-width":"100%",overflow:"hidden"},domProps:{innerHTML:t._s(t.cal_topicArr.t_desc)}})]},proxy:!0},{key:"ee-modal-footer-bottom",fn:function(){},proxy:!0}])})},s=[],a=e("714b"),c={name:"topicViewModal",data:function(){return{theId:0,modal:{type:"view",view:{id:"ee-modal-topic-view",sizeClass:"modal-lg",title:"View"}},curTopic:{tCreationUser:{}}}},props:{},computed:{cal_topicArr:function(){var t=_.cloneDeep(this.curTopic);return""!=t.t_title_ot&&"zh"!=this.$i18n.locale&&(t.t_title=t.t_title_ot,t.t_shortDesc=t.t_shortDesc_ot,t.t_desc=t.t_desc_ot),t},cal_modalId:function(){return this.modal.view.id+"-"+this.theId},show_title:function(){return this.cal_topicArr.t_title+" <small> "+this.cal_topicArr.t_shortDesc+"</small>"}},methods:{loadTopicDetail:function(t){var i=this,e=this,o="v1/pub-topics/"+t+"?embed=tCreationUser:a_id,a_title";this.$axios.get(o).then(function(t){e.$set(e,"curTopic",t.data),e.eeShowModal(i.cal_modalId)}).catch(function(t){})},hideModal:function(){this.eeHideModal(this.cal_modalId)}},mixins:[],components:{Modal:a["a"]},created:function(){this.theId=Math.floor(1e6*Math.random())},mounted:function(){},destroyed:function(){},beforeMount:function(){}},r=c,n=(e("fe3e"),e("2877")),l=Object(n["a"])(r,o,s,!1,null,null,null);i["a"]=l.exports},bcea:function(t,i,e){"use strict";var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"control-sidebar-bg"})},s=[],a={name:"Pri_RightBar",props:{}},c=a,r=e("2877"),n=Object(r["a"])(c,o,s,!1,null,"e8df3b2e",null);i["a"]=n.exports},df47:function(t,i,e){"use strict";e.r(i);var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"wrapper"},[e("Pri_TopBar"),e("Pri_SideBar"),e("div",{staticClass:"content-wrapper"},[e("section",{staticClass:"content-header"},[e("h1",[t._v("\n        "+t._s(t.$t("pri."+this.mode+"View.title"))),e("small",[t._v(t._s(t.version))]),e("small",[t._v(t._s(t.$t("pri."+this.mode+"View.subTitle")))])]),e("ol",{staticClass:"breadcrumb"},[e("router-link",{attrs:{tag:"li",to:"/dashboard"}},[e("a",{attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-cogs"}),e("span",{domProps:{innerHTML:t._s(t.$t("common.title"))}})])]),e("li",{staticClass:"active"},[t._v(t._s(t.$t("pri."+this.mode+"View.title")))])],1)]),e("section",{staticClass:"content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"nav-tabs-custom"},[e("ul",{staticClass:"nav nav-tabs"},[t._l(t.cal_topicType,function(i){return i.id!=t.$commonConst.topicTypeId.devPlan?e("li",{staticClass:"ee-pointer",class:t.curTopicTypeId==i.id?"active":"",on:{click:function(e){return t.loadTopicList(i.id)}}},[e("a",{staticStyle:{"max-width":"320px"}},[e("span",{class:i.icon}),t._v("\n            "+t._s(t.$t(i.text))+"\n          ")])]):t._e()}),t.curTopicTypeId>=t.$commonConst.topicTypeId.legion?e("li",{on:{click:function(i){return t.showTopicFormDailog("create")}}},[e("a",{staticClass:"text-blue",attrs:{href:"javascript:;"}},[e("span",{staticClass:"fa fa-edit"}),t._v(" "+t._s(t.$t("common.create")))])]):t._e()],2),e("div",{staticClass:"tab-content"},[e("div",{staticClass:"tab-pane active"},[e("div",{staticClass:"input-group col-md-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filterKeyword,expression:"filterKeyword"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filterKeyword},on:{input:function(i){i.target.composing||(t.filterKeyword=i.target.value)}}}),t._m(0)])])])])]),e("div",{staticClass:"tab-content"},[e("div",{staticClass:"tab-pane active"},t._l(t.cal_showTopicList,function(i){return e("div",{staticClass:"col-lg-2 col-md-3 col-sm-4 col-xs-6 eeHighFixBox"},[e("div",{staticClass:"box box-default ee-stat-box",on:{click:function(e){return t.$refs.TopicViewModal.loadTopicDetail(i.t_id)}}},[e("div",{staticClass:"box-body"},[e("h4",[t._v(t._s(i.t_title)),e("small")]),e("p",{staticClass:"txt-title"},[t._v(t._s(i.t_shortDesc))])])])])}),0)])])])]),e("Pri_FooterBar"),e("TopicViewModal",{ref:"TopicViewModal"}),e("TopicFormModal",{attrs:{modal:this.modal,curDataObj:this.curDataObj},on:{"modal-saved":t.modalSaved}})],1)},s=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("span",{staticClass:"input-group-addon"},[e("i",{staticClass:"fa fa-search"})])}],a=(e("7f7f"),e("7374")),c=e("bf26"),r=e("325e"),n=e("bcea"),l=e("9091"),d=e("9b55"),p={name:"NewsView",data:function(){return{version:"v1.0",mode:"news",curTopicTypeId:0,filterKeyword:"",topicArr:[],curTopic:{tCreationUser:{}},curDataObj:{i:"",t_id:"",t_type_id:0,t_cnt_publishDay:1,t_title:"",t_shortDesc:"",t_desc:"",t_startDate:"",t_endDate:""},modal:{type:"create",form:{id:"ee-modal-newslist-topic-form",class:"",sizeClass:"modal-lg",title:""}},topicFormModal:{form:{id:"ee-modal-newslist-topic-form",sizeClass:"modal-lg",title:"View"}}}},computed:{cal_topicType:function(){var t=[];for(var i in this.$commonConst.topicType){var e=this.$commonConst.topicType[i];e.id<this.$commonConst.topicTypeId.siteNews||("news"==this.mode?e.id<this.$commonConst.topicTypeId.tradeBuy&&t.push(e):e.id>=this.$commonConst.topicTypeId.tradeBuy&&t.push(e))}return t},cal_showTopicList:function(){var t=[];for(var i in this.topicArr[this.curTopicTypeId]){var e=_.cloneDeep(this.topicArr[this.curTopicTypeId][i]);""!=this.filterKeyword&&-1==e.t_title.indexOf(this.filterKeyword)&&-1==e.t_shortDesc.indexOf(this.filterKeyword)||(""!=e.t_title_ot&&"zh"!=this.$i18n.locale&&(e.t_title=e.t_title_ot,e.t_shortDesc=e.t_shortDesc_ot,e.t_desc=e.t_desc_ot),t.push(e))}return t}},methods:{wrapData:function(t){var i=t;return i},loadTopicList:function(t){var i=this;if(this.curTopicTypeId=t,_.isEmpty(this.topicArr[t])){var e="v1/pub-topics",o={};o[t]=-1,this.$axios.get(e,{params:{tc:o}}).then(function(e){i.$set(i.topicArr,t,e.data[t])}).catch(function(t){})}},showTopicFormDailog:function(t,i){this.modal.form.type=t,this.modal.form.title=this.$t("common.create"),this.curTopicTypeId<20?this.curDataObj.t_type_id=this.$commonConst.topicTypeId.tradeSell:this.curDataObj.t_type_id=this.curTopicTypeId,$("#"+this.modal.form.id).modal()},modalSaved:function(t){this.topicArr[this.curTopicTypeId].unshift(t),this.cleanObj("curDataObj"),this.curDataObj.t_cnt_publishDay=1}},mixins:[],components:{Pri_TopBar:a["a"],Pri_SideBar:c["a"],Pri_FooterBar:r["a"],Pri_RightBar:n["a"],TopicViewModal:l["a"],TopicFormModal:d["a"]},created:function(){},mounted:function(){this.mode=this.$route.name,"news"==this.mode?this.curTopicTypeId=this.$commonConst.topicTypeId.siteNews:this.curTopicTypeId=this.$commonConst.topicTypeId.tradeSell,this.loadTopicList(this.curTopicTypeId)},destroyed:function(){},beforeMount:function(){document.body.className="hold-transition skin-red sidebar-mini sidebar-collapse"}},u=p,m=e("2877"),h=Object(m["a"])(u,o,s,!1,null,null,null);i["default"]=h.exports},fe3e:function(t,i,e){"use strict";var o=e("2a0d"),s=e.n(o);s.a}}]);