(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["quick-table-vessel-debris"],{"1af6":function(t,e,i){var s=i("63b6");s(s.S,"Array",{isArray:i("9003")})},"20fd":function(t,e,i){"use strict";var s=i("d9f6"),o=i("aebd");t.exports=function(t,e,i){e in t?s.f(t,e,o(0,i)):t[e]=i}},"242c":function(t,e,i){},"268f":function(t,e,i){t.exports=i("fde4")},"2a0d":function(t,e,i){},"32a6":function(t,e,i){var s=i("241e"),o=i("c3a1");i("ce7e")("keys",function(){return function(t){return o(s(t))}})},"454f":function(t,e,i){i("46a7");var s=i("584a").Object;t.exports=function(t,e,i){return s.defineProperty(t,e,i)}},"46a7":function(t,e,i){var s=i("63b6");s(s.S+s.F*!i("8e60"),"Object",{defineProperty:i("d9f6").f})},"549b":function(t,e,i){"use strict";var s=i("d864"),o=i("63b6"),a=i("241e"),n=i("b0dc"),r=i("3702"),l=i("b447"),c=i("20fd"),u=i("7cd6");o(o.S+o.F*!i("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,o,d,f=a(t),p="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,m=void 0!==b,v=0,_=u(f);if(m&&(b=s(b,h>2?arguments[2]:void 0,2)),void 0==_||p==Array&&r(_))for(e=l(f.length),i=new p(e);e>v;v++)c(i,v,m?b(f[v],v):f[v]);else for(d=_.call(f),i=new p;!(o=d.next()).done;v++)c(i,v,m?n(d,b,[o.value,v],!0):o.value);return i.length=v,i}})},"54a1":function(t,e,i){i("6c1c"),i("1654"),t.exports=i("95d5")},"6f44":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("select",{staticClass:"form-control",attrs:{id:t.id+"-"+t.theId,name:t.name,placeholder:t.placeholder,disabled:t.disabled,multiple:t.mu}})])},o=[],a=(i("7514"),i("75fc")),n=i("cebc"),r={name:"Select2",data:function(){return{theId:0,select2:null}},model:{event:"change",prop:"value"},props:{id:{type:String,default:"eeSelect2"},name:{type:String,default:""},placeholder:{type:String,default:""},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!0},mu:{type:Boolean,default:!1},settings:{type:Object,default:function(){}},value:null,dataRequestMode:{type:String,default:""},defaultOptions:{type:Array,default:function(){return[]}}},watch:{options:function(t){this.setOption(t)},placeholder:function(t){this.setOption(t)},value:function(t){this.setValue(t)},defaultOptions:function(t){this.setDefaultOptions(t)}},methods:{setOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.select2.empty(),this.select2.select2(Object(n["a"])({},this.settings,{placeholder:this.placeholder,allowClear:this.allowClear,data:t,escapeMarkup:function(t){return t}})),this.setValue(this.value)},setValue:function(t){t instanceof Array?this.select2.val(Object(a["a"])(t)):this.select2.val([t]),this.select2.trigger("change")},setDefaultOptions:function(t){if(this.defaultOptions.length>0)for(var e=0;e<this.defaultOptions.length;e++){var i=this.defaultOptions[e],s=new Option(i.text,i.id,!1,i.isSelected);this.select2.append(s)}}},created:function(){this.theId=Math.floor(1e6*Math.random())},mounted:function(){var t=this;this.select2=$(this.$el).find("select").select2(Object(n["a"])({},this.settings,{placeholder:this.placeholder,allowClear:this.allowClear,data:this.options,escapeMarkup:function(t){return t}})).on("select2:select",function(e){t.$emit("change",t.select2.val(),t.select2.find(":selected").text())}).on("select2:unselect",function(e){t.$emit("change",null)}),this.setValue(this.value),this.setDefaultOptions()},beforeDestroy:function(){this.select2.select2("destroy")}},l=r,c=(i("f7c4"),i("2877")),u=Object(c["a"])(l,s,o,!1,null,null,null);e["a"]=u.exports},"75fc":function(t,e,i){"use strict";var s=i("a745"),o=i.n(s);function a(t){if(o()(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}var n=i("774e"),r=i.n(n),l=i("c8bb"),c=i.n(l);function u(t){if(c()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return r()(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){return a(t)||u(t)||d()}i.d(e,"a",function(){return f})},"774e":function(t,e,i){t.exports=i("d2d5")},"85f2":function(t,e,i){t.exports=i("454f")},"8aae":function(t,e,i){i("32a6"),t.exports=i("584a").Object.keys},"8ec3":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.skillInputString,expression:"skillInputString"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t(t.placeholder)},domProps:{value:t.skillInputString},on:{change:t.cal_skillResult,input:function(e){e.target.composing||(t.skillInputString=e.target.value)}}})])},o=[],a=(i("28a5"),i("c5f6"),{name:"QuickInputSkill",data:function(){return{skillInputString:"",costRate:0,timeRate:0}},props:{t_id:{type:[Number],required:!0},placeholder:{default:function(){return"pri.quickInputSkill.config.lvNumber_hint"}}},computed:{},methods:{cal_skillResult:function(){var t=0,e=0,i=this.skillInputString.split(""),s=0;i[0]>0&&i[0]<=5&&(s=Number(i[0]));var o=0;i[1]>0&&i[1]<=5&&(o=Number(i[1]));var a=0;i[2]>0&&i[2]<=5&&(a=Number(i[2])),this.t_id==this.$commonConst.skillQuickInputType.build&&(e=6*s+4*o+1*a,s>0&&(t+=5*(s-1)),o>0&&(t+=5*(o-1)),a>0&&(t+=5*(a-1))),this.t_id==this.$commonConst.skillQuickInputType.refine&&(e+=10*s+1*a*5,o>0&&(e+=5+5*o),e=e/100+1),this.t_id==this.$commonConst.skillQuickInputType.research&&(s>1&&(e+=5==s?50:12*(s-1)),o>2&&(e+=10*(o-2)),a>2&&(e+=5==a?20:6*(a-2)),e=e/100+1,t=1-4*(s+o+a)/100),this.$emit("set-skill-effect",{costRate:_.round(e,2),timeRate:_.round(t,2)})}},mounted:function(){},mixins:[],components:{}}),n=a,r=i("2877"),l=Object(r["a"])(n,s,o,!1,null,"53e7e8b4",null);e["a"]=l.exports},9091:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Modal",{attrs:{idName:t.modal.view.id,titleName:t.show_title,showFooterSaveBtn:!1,showFooterCloseBtn:!0,className:t.modal.view.class,sizeClassName:t.modal.view.sizeClass},scopedSlots:t._u([{key:"ee-modal-footer-top",fn:function(){return[s("div",{staticClass:"user-block",staticStyle:{"text-align":"left","margin-bottom":"12px"}},[s("img",{staticClass:"img-circle",attrs:{src:i("95a7"),alt:"User Image"}}),s("span",{staticClass:"username "},[s("a",{attrs:{href:"#"}},[t._v(t._s(t.curTopic.tCreationUser.a_title))])]),s("span",{staticClass:"description"},[t._v(t._s(t.curTopic.t_startDate))])])]},proxy:!0},{key:"ee-modal-body",fn:function(){return[s("div",{staticClass:"eeModalContainer",staticStyle:{"max-width":"100%",overflow:"hidden"},domProps:{innerHTML:t._s(t.curTopic.t_desc)}})]},proxy:!0},{key:"ee-modal-footer-bottom",fn:function(){},proxy:!0}])})},o=[],a=i("714b"),n={name:"topicViewModal",data:function(){return{editorOption:{}}},props:{curTopic:{type:[Object],required:!0},modal:{type:[Object],required:!0}},computed:{show_title:function(){return this.curTopic.t_title+" <small> "+this.curTopic.t_shortDesc+"</small>"}},methods:{onEditorBlur:function(t){},onEditorFocus:function(t){},onEditorReady:function(t){}},mixins:[],components:{Modal:a["a"]},created:function(){},mounted:function(){},destroyed:function(){},beforeMount:function(){}},r=n,l=(i("fe3e"),i("2877")),c=Object(l["a"])(r,s,o,!1,null,null,null);e["a"]=c.exports},"95d5":function(t,e,i){var s=i("40c3"),o=i("5168")("iterator"),a=i("481b");t.exports=i("584a").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||a.hasOwnProperty(s(e))}},a4bb:function(t,e,i){t.exports=i("8aae")},a745:function(t,e,i){t.exports=i("f410")},ad80:function(t,e,i){"use strict";var s=i("242c"),o=i.n(s);o.a},bcea:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control-sidebar-bg"})},o=[],a={name:"Pri_RightBar",props:{}},n=a,r=i("2877"),l=Object(r["a"])(n,s,o,!1,null,"e8df3b2e",null);e["a"]=l.exports},bf90:function(t,e,i){var s=i("36c3"),o=i("bf0b").f;i("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return o(s(t),e)}})},c77b:function(t,e,i){},c8bb:function(t,e,i){t.exports=i("54a1")},ce7e:function(t,e,i){var s=i("63b6"),o=i("584a"),a=i("294c");t.exports=function(t,e){var i=(o.Object||{})[t]||Object[t],n={};n[t]=e(i),s(s.S+s.F*a(function(){i(1)}),"Object",n)}},cebc:function(t,e,i){"use strict";var s=i("268f"),o=i.n(s),a=i("e265"),n=i.n(a),r=i("a4bb"),l=i.n(r),c=i("85f2"),u=i.n(c);function d(t,e,i){return e in t?u()(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=l()(i);"function"===typeof n.a&&(s=s.concat(n()(i).filter(function(t){return o()(i,t).enumerable}))),s.forEach(function(e){d(t,e,i[e])})}return t}i.d(e,"a",function(){return f})},d2d5:function(t,e,i){i("1654"),i("549b"),t.exports=i("584a").Array.from},d735:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.showTopicArr.length>0,expression:"showTopicArr.length > 0"}],staticClass:"row"},[t._l(t.showTopicArr,function(e){return i("div",{staticClass:"col-md-3"},[i("div",{staticClass:"box box-default ee-stat-box",on:{click:function(i){return t.loadingTopic(e.t_id)}}},[i("div",{staticClass:"box-body"},[i("h4",[t._v(t._s(e.t_title)),i("small")]),i("p",{staticClass:"txt-title"},[t._v(t._s(e.t_shortDesc))])])])])}),i("TopicViewModal",{attrs:{curTopic:t.curTopic,modal:t.modal}})],2)},o=[],a=(i("ac6a"),i("c5f6"),i("9091")),n={name:"TopicDisplay",data:function(){return{topicArr:[],topicList:[],showTopicArr:[],curTopic:{tCreationUser:{}},showTopic:!1,modal:{view:{id:"ee-modal-topic-view",sizeClass:"modal-lg",title:"View"}}}},props:{type_id:{type:Number,default:1},showTopicCnt:{type:Number,default:4}},computed:{},methods:{showModal:function(){$("#"+this.modal.view.id).modal()},loadingTopic:function(t){var e=this,i="v1/pub-topics/"+t+"?embed=tCreationUser:a_id,a_title";this.$axios.get(i).then(function(t){e.$set(e,"curTopic",t.data),e.showModal()}).catch(function(t){})},loadingTopics:function(){var t=this,e=this;if(_.isEmpty(this.$store.state.topicArr)){var i="v1/pub-topics",s={};s[this.$commonConst.topicTypeId.siteNews]=5,s[this.$commonConst.topicTypeId.officialNews]=5,s[this.$commonConst.topicTypeId.thirdNews]=5,s[this.$commonConst.topicTypeId.legion]=10,s[this.$commonConst.topicTypeId.personal]=10,s[this.$commonConst.topicTypeId.tradeBuy]=15,s[this.$commonConst.topicTypeId.tradeSell]=15,s[this.$commonConst.topicTypeId.tradeBoth]=15,this.$axios.get(i,{params:{tc:s}}).then(function(i){t.$store.commit("setTopicArr",i.data),e.generateDisplayTopic()}).catch(function(t){})}else e.generateDisplayTopic()},createTopicList:function(){var t=this;_.isEmpty(this.topicList)&&!_.isEmpty(this.$store.state.topicArr)&&_.forEach(this.$store.state.topicArr,function(e){_.forEach(e,function(e){t.topicList.push(e)})})},generateDisplayTopic:function(){if(this.createTopicList(),!_.isEmpty(this.topicList)){var t=[],e={},i=0,s=0;while(i<this.showTopicCnt&&s<5*this.showTopicCnt){s++;var o=this.topicList[_.random(0,this.topicList.length-1)];void 0==e[o.t_id]&&(t.push(o),e[o.t_id]=1,i++)}this.showTopicArr=t}}},mounted:function(){this.loadingTopics()},mixins:[],components:{TopicViewModal:a["a"]}},r=n,l=(i("ad80"),i("2877")),c=Object(l["a"])(r,s,o,!1,null,null,null);e["a"]=c.exports},e265:function(t,e,i){t.exports=i("ed33")},ed33:function(t,e,i){i("014b"),t.exports=i("584a").Object.getOwnPropertySymbols},f410:function(t,e,i){i("1af6"),t.exports=i("584a").Array.isArray},f7c4:function(t,e,i){"use strict";var s=i("c77b"),o=i.n(s);o.a},fbde:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("Pri_TopBar"),i("Pri_SideBar"),i("div",{staticClass:"content-wrapper"},[i("section",{staticClass:"content-header"},[i("h1",[t._v("\n        "+t._s(t.$t("pri.quickTableVesselDebrisView.title"))),i("small",[t._v(t._s(t.version))]),i("small",[t._v(t._s(t.$t("pri.quickTableVesselDebrisView.subTitle"))+" "),i("span",{staticClass:"btn btn-xs bg-olive "},[t._v(t._s(t.$t("datasource.d202008")))])])]),i("ol",{staticClass:"breadcrumb"},[i("router-link",{attrs:{tag:"li",to:"/dashboard"}},[i("a",{attrs:{href:"javascript:;"}},[i("i",{staticClass:"fa fa-cogs"}),i("span",{domProps:{innerHTML:t._s(t.$t("common.title"))}})])]),i("li",{staticClass:"active"},[t._v(t._s(t.$t("pri.quickTableVesselDebrisView.title")))])],1)]),i("section",{staticClass:"content"},[i("div",{staticClass:"box"},[i("div",{staticClass:"box-header"},[i("h3",{staticClass:"box-title"},[t._v(t._s(t.$t("pri.quickTableVesselDebrisView.config.title")))]),t._m(0)]),i("div",{staticClass:"box-body"},[i("form",{staticClass:"form-horizontal row"},[i("div",{staticClass:"col-sm-3"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-4 control-label",attrs:{for:"input_vesselDebris_id"}},[t._v(t._s(t.$t("pri.quickTableVesselDebrisView.config.buildCostRate")))]),i("div",{staticClass:"col-sm-8"},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.buildCostRate,expression:"buildCostRate"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.buildCostRate},on:{input:function(e){e.target.composing||(t.buildCostRate=e.target.value)}}}),i("span",{staticClass:"input-group-addon"},[t._v("%")])])])])]),i("div",{staticClass:"col-sm-3"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-4 control-label",attrs:{for:"input_skill_id"}},[t._v(t._s(t.$t("pri.quickTableVesselDebrisView.config.selectSkill")))]),i("div",{staticClass:"col-sm-8"},[i("QuickInputSkill",{attrs:{t_id:t.$commonConst.skillQuickInputType.refine},on:{"set-skill-effect":t.setSkillEffect}})],1)])])]),i("h4",{staticClass:"box-title"},[t._v(t._s(t.$t("pri.quickTableVesselDebrisView.config.race.title"))+" "),i("small",[t._v(" "+t._s(t.$t("pri.quickTableVesselDebrisView.config.race.title_small")))])]),i("hr"),i("form",{staticClass:"form-horizontal row"},[i("div",{staticClass:"col-sm-12"},t._l(t.raceTypeArr,function(e){return i("div",{staticClass:"col-sm-2"},[i("button",{staticClass:"btn btn-block btn-sm",class:e.isShown?"btn-info":"btn-default",attrs:{type:"button"},on:{click:function(i){return t.eeSwitchObjFlag(e,"isShown")}}},[t._v(t._s(t.$t("race."+e.code)))]),i("div",{staticClass:"form-group"})])}),0)])])]),i("TopicDisplay",{ref:"TopicDisplay"}),i("div",{staticClass:"box box-primary"},[i("div",{staticClass:"box-header hide"},[i("h3",{staticClass:"box-title"},[t._v(t._s(t.$t("pri.quickTableVesselDebrisView.title")))]),t._m(1)]),i("div",{staticClass:"box-body"},[i("eeTable",{attrs:{columnArr:t.tableData.columns,rowArr:t.table_vesselDebrisArr,optionArr:t.tableData.options}})],1)])],1)]),i("Pri_FooterBar")],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box-tools pull-right"},[i("button",{staticClass:"btn btn-box-tool",attrs:{"data-widget":"collapse","data-toggle":"tooltip",title:"","data-original-title":"Collapse"}},[i("i",{staticClass:"fa fa-minus"})]),i("button",{staticClass:"btn btn-box-tool",attrs:{"data-widget":"remove","data-toggle":"tooltip",title:"Remove"}},[i("i",{staticClass:"fa fa-times"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box-tools pull-right"},[i("button",{staticClass:"btn btn-box-tool",attrs:{"data-widget":"collapse","data-toggle":"tooltip",title:"","data-original-title":"Collapse"}},[i("i",{staticClass:"fa fa-minus"})]),i("button",{staticClass:"btn btn-box-tool",attrs:{"data-widget":"remove","data-toggle":"tooltip",title:"Remove"}},[i("i",{staticClass:"fa fa-times"})])])}],a=i("7374"),n=i("bf26"),r=i("325e"),l=i("bcea"),c=i("6f44"),u=i("6a38"),d=i("d735"),f=i("8ec3"),p={name:"QuickTableVesselDebrisView",data:function(){var t=this;return{version:"v2.0.1",vesselDebrisArr:[],raceTypeArr:{r_CAL:{isShown:1,code:"r_CAL"},r_GAL:{isShown:1,code:"r_GAL"},r_AMA:{isShown:1,code:"r_AMA"},r_MIN:{isShown:1,code:"r_MIN"},r_other:{isShown:1,code:"r_other"}},buildCostRate:30,tableData:{columns:[{field:"vd_title",title:function(){return t.$t("pri.quickTableVesselDebrisView.table.title.vd_title")}},{field:"vd_s_wdl",title:function(){return t.$t("material.s_wdl")},sortable:!0},{field:"vd_s_jkdl",title:function(){return t.$t("material.s_jkdl")},sortable:!0},{field:"vd_s_nydl",title:function(){return t.$t("material.s_nydl")},sortable:!0},{field:"vd_s_cfjg",title:function(){return t.$t("material.s_cfjg")},sortable:!0},{field:"vd_s_jf",title:function(){return t.$t("material.s_jf")},sortable:!0},{field:"vd_s_yg",title:function(){return t.$t("material.s_yg")},sortable:!0},{field:"vd_s_llzlt",title:function(){return t.$t("material.s_llzlt")},sortable:!0},{field:"vd_s_jhdt",title:function(){return t.$t("material.s_jhdt")},sortable:!0},{field:"vd_s_nmjht",title:function(){return t.$t("material.s_nmjht")},sortable:!0},{field:"vd_s_dlb",title:function(){return t.$t("material.s_dlb")},sortable:!0}],options:{tableClass:"table table-bordered text-center table-hover table-striped",showTableFooter:!0,sortContainerSize:2,tool_allowGlobalSearch:!0,tool_showRefresh:!0,tool_showColumns:!0}}}},computed:{table_vesselDebrisArr:function(){var t=[];if(0==this.vesselDebrisArr.length)return t;for(var e in this.vesselDebrisArr){var i=this.vesselDebrisArr[e];if(!(1!=this.raceTypeArr.r_CAL.isShown&&i.vd_id<=7)&&(!(1!=this.raceTypeArr.r_GAL.isShown&&i.vd_id>7&&i.vd_id<=14)&&!(1!=this.raceTypeArr.r_AMA.isShown&&i.vd_id>14&&i.vd_id<=21)&&!(1!=this.raceTypeArr.r_MIN.isShown&&i.vd_id>21&&i.vd_id<=28)&&!(1!=this.raceTypeArr.r_other.isShown&&i.vd_id>28&&i.vd_id<=42))){var s=_.clone(i),o=i.vd_titleEn;for(var a in"zh"==this.$i18n.locale&&(o=i.vd_title),s.vd_title=o,s)"vd_s_"==a.substr(0,5)&&(s[a]=_.floor(s[a]*this.buildCostRate/100,2));t.push(s)}}return t},select2_YesOrNo:function(){var t=[];for(var e in this.$commonConst.YesorNo){var i=this.$commonConst.YesorNo[e];t.push({id:i.id,text:this.$t(i.text)})}return t}},watch:{},methods:{wrapData:function(t){var e=t;return e},loadVesselDebrisList:function(t){var e=this,i=this,s="v1/vessel-debrises/full";this.$axios.get(s).then(function(t){var s=[];for(var o in t.data){var a=t.data[o];s.push(e.wrapData(a))}i.vesselDebrisArr=s}).catch(function(t){})},setSkillEffect:function(t){this.buildCostRate=_.floor(30*t.costRate,2)}},mixins:[],components:{Pri_TopBar:a["a"],Pri_SideBar:n["a"],Pri_FooterBar:r["a"],Pri_RightBar:l["a"],Select2:c["a"],eeTable:u["a"],TopicDisplay:d["a"],QuickInputSkill:f["a"]},created:function(){},mounted:function(){this.loadVesselDebrisList()},destroyed:function(){},beforeMount:function(){document.body.className="hold-transition skin-red sidebar-mini sidebar-collapse"}},h=p,b=i("2877"),m=Object(b["a"])(h,s,o,!1,null,null,null);e["default"]=m.exports},fde4:function(t,e,i){i("bf90");var s=i("584a").Object;t.exports=function(t,e){return s.getOwnPropertyDescriptor(t,e)}},fe3e:function(t,e,i){"use strict";var s=i("2a0d"),o=i.n(s);o.a}}]);